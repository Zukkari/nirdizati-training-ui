<?xml version="1.0" encoding="UTF-8" ?>

<configuration>

    <!-- Page configuration used for redirects -->
    <pageConfig>
        <page>
            <id>landing</id>
            <uri>/views/landing.zul</uri>
        </page>
        <page>
            <id>uploadLog</id>
            <uri>/views/upload_page.zul</uri>
        </page>
        <page>
            <id>logOverview</id>
            <uri>/views/logOverview.zul</uri>
        </page>
        <page>
            <id>training</id>
            <uri>/views/training.zul</uri>
        </page>
        <page>
            <id>validation</id>
            <uri>/views/validation.zul</uri>
        </page>
    </pageConfig>

    <!-- extensions allowed for file upload -->
    <extensions>
        <ext>xes</ext>
        <ext>csv</ext>
    </extensions>

    <!-- Paths configuration used for log, model and script storage -->
    <paths>
        <!-- Directory for user log storage -->
        <userLogDirectory>/home/zukkari/git/nirdizati-training-ui/PredictiveMethods/logdata/</userLogDirectory>
        <!-- Directory for user model storage -->
        <userModelDirectory>/home/zukkari/git/nirdizati-training-ui/usermodels/</userModelDirectory>
        <!-- Directory where to look for prediction scripts -->
        <scriptDirectory>/home/zukkari/git/nirdizati-training-ui/PredictiveMethods/</scriptDirectory>
        <!-- Directory for training parameters relative to script directory -->
        <trainDirectory>training_params/</trainDirectory>
        <!-- Directory for data set parameters relative to script directory-->
        <datasetDirectory>dataset_params/</datasetDirectory>
        <!-- Results where trained models are located relative to script directory -->
        <pklDirectory>pkl/</pklDirectory>
    </paths>

    <!-- Header button configuration for header construction -->
    <headerConfiguration>
        <headerItem>
            <label>header.upload</label>
            <redirect>uploadLog</redirect>
            <enabled>true</enabled>
            <position>0</position>
        </headerItem>
        <headerItem>
            <label>header.overview</label>
            <redirect>logOverview</redirect>
            <enabled>false</enabled>
            <position>1</position>
        </headerItem>
        <headerItem>
            <label>header.training</label>
            <redirect>training</redirect>
            <enabled>true</enabled>
            <position>2</position>
        </headerItem>
        <headerItem>
            <label>header.validation</label>
            <redirect>validation</redirect>
            <enabled>false</enabled>
            <position>3</position>
        </headerItem>
    </headerConfiguration>

    <csvConfig>
        <!-- Columns that need to be specified by user when creating model -->
        <userCols>
            <col>case_id_col</col>
            <col>activity_col</col>
        </userCols>

        <!-- Values that will be used to search for case id column -->
        <caseId>
            <id>caseid</id>
            <id>case_id</id>
            <id>case id</id>
        </caseId>

        <!-- Values that will be used to search for activity column -->
        <activityId>
            <id>activity</id>
            <id>activity_name</id>
            <id>activity_id</id>
            <id>event_name</id>
        </activityId>

        <!-- Values that will be used for timestamp column identification -->
        <timestampFormat>
            <format>yyyy-MM-dd hh:mm:ss</format>
            <format>yyyy-mm-dd'T'hh:mm:ss</format>
        </timestampFormat>

        <!-- Regexp that is used for csv file splitting -->
        <splitter>[,;]</splitter>

        <!-- Values that are used to clean columns for categori<ation -->
        <emptyValues>
            <id></id>
            <id>EMPTY</id>
            <id>empty</id>
        </emptyValues>

        <!-- Threshold that decides whether value is categorical or numerical -->
        <threshold>10</threshold>

        <!-- Sample size, how many cases should be used for categorization -->
        <sampleSize>100</sampleSize>
    </csvConfig>

    <!-- Model training configurations -->
    <modelConfig>

        <!-- Types that can be used for model construction -->
        <types>
            <type>encoding</type>
            <type>bucketing</type>
            <type>learner</type>
            <type>predictiontype</type>
        </types>

        <!-- Model parameters that are represented in the menu -->
        <modelparams>
            <modelparam>
                <id>last_state</id>
                <parameter>laststate</parameter>
                <type>encoding</type>
                <enabled>true</enabled>
            </modelparam>
            <modelparam>
                <id>frequency</id>
                <parameter>agg</parameter>
                <type>encoding</type>
                <enabled>true</enabled>
            </modelparam>
            <modelparam>
                <id>combined</id>
                <parameter>combined</parameter>
                <type>encoding</type>
                <enabled>true</enabled>
            </modelparam>
            <modelparam>
                <id>index_based</id>
                <parameter>index</parameter>
                <type>encoding</type>
                <enabled>true</enabled>
            </modelparam>
            <modelparam>
                <id>zero</id>
                <parameter>zero</parameter>
                <type>bucketing</type>
                <enabled>true</enabled>
            </modelparam>
            <modelparam>
                <id>state_based</id>
                <parameter>state</parameter>
                <type>bucketing</type>
                <enabled>true</enabled>
            </modelparam>
            <modelparam>
                <id>clustering</id>
                <parameter>cluster</parameter>
                <type>bucketing</type>
                <enabled>true</enabled>
            </modelparam>
            <modelparam>
                <id>prefix_lenght_based</id>
                <parameter>prefix</parameter>
                <type>bucketing</type>
                <enabled>true</enabled>
            </modelparam>

            <modelparam>
                <id>random_forest</id>
                <parameter>rf</parameter>
                <type>learner</type>
                <enabled>true</enabled>
                <estimators>300</estimators>
                <maxfeatures>0.75</maxfeatures>
            </modelparam>
            <modelparam>
                <id>gradient_boosting</id>
                <parameter>gbm</parameter>
                <type>learner</type>
                <enabled>true</enabled>
                <estimators>300</estimators>
                <maxfeatures>0.75</maxfeatures>
                <gbmrate>1.0</gbmrate>
            </modelparam>
            <modelparam>
                <id>decision_tree</id>
                <parameter>dt</parameter>
                <type>learner</type>
                <enabled>true</enabled>
                <estimators>300</estimators>
                <maxfeatures>0.75</maxfeatures>
            </modelparam>

            <modelparam>
                <id>remaining_time</id>
                <parameter>remtime</parameter>
                <type>predictiontype</type>
                <enabled>true</enabled>
            </modelparam>
            <modelparam>
                <id>outcome</id>
                <parameter>label</parameter>
                <type>predictiontype</type>
                <enabled>false</enabled>
            </modelparam>
        </modelparams>
    </modelConfig>
</configuration>